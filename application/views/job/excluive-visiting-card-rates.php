<style>
.gsm300
{
	background-color:red !important;
	border-color:red !important;
}
.Vcard_active {
	font-size:30px;
}
</style>

<form action="#" method="post" onsubmit="return saveVCardEx();">
<table class="table" border="2">
	<tr>
		<td> &nbsp; </td>
		<td colspan="2" align="center">Economy
			<br>
			<strong>Code 01 to 33</strong>
		 </td>
		<td colspan="2" align="center">Premium 
			<br>
			<strong>Code 34 to 65</strong>
		</td>
		<td colspan="2" align="center">Exclusive 
			<br>
			<strong>Code 66 to 70</strong>
		</td>
		<td colspan="2" align="center">Velvet </td>
	</tr>
	
	<tr>
		<td> Qty </td>
		<td> Single Side </td>
		<td> Double Side </td>
		
		<td> Single Side </td>
		<td> Double Side </td>
		
		<td> Single Side </td>
		<td> Double Side </td>
		
		<td> Single Side </td>
		<td> Double Side </td>
		</tr>
	
	<tr class="rowQty-ex" id="qty_96">
		<td>
			<a href="javascript:void(0);" class="btn btn-primary setVQty-ex" onclick="setQtyEx(96);">
				96
			</a> 
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary etc" data-price="250" data-card="Economy_Texture_Card" data-type="SS">
				250
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary etc" data-price="350" data-card="Economy_Texture_Card" data-type="FB">
				350
			</span>
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary ptc" data-price="300" data-card="Premium_Texture_Card" data-type="SS">
				300
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary ptc" data-price="450" data-card="Premium_Texture_Card" data-type="FB">
				450
			</span>
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary eetc" data-price="450" data-card="Exclusive_Texture_Card" data-type="SS">
				450
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary eetc" data-price="700" data-card="Exclusive_Texture_Card" data-type="FB">
				700
			</span>
		</td>
		
				<td>
			<span class="price-ex btn btn-primary gsmVelvet" data-price="900" data-card="Velvet_Touch_Card" data-type="SS">
				900
			</span>
		</td>
		<td>
			<span class="price-ex btn btn-primary gsmVelvet" data-price="900" data-card="Velvet_Touch_Card" data-type="FB">
				900
			</span>
		</td>
	</tr>
	
	<tr  class="rowQty-ex" id="qty_192">
		<td>
			<a href="javascript:void(0);" class="btn btn-primary setVQty-ex" onclick="setQtyEx(192);">
				192
			</a>
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary etc" data-price="400" data-card="Economy_Texture_Card" data-type="SS">
				400
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary etc" data-price="550" data-card="Economy_Texture_Card" data-type="FB">
				550
			</span>
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary ptc" data-price="450" data-card="Premium_Texture_Card" data-type="SS">
				450
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary ptc" data-price="700" data-card="Premium_Texture_Card" data-type="FB">
				700
			</span>
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary eetc" data-price="700" data-card="Exclusive_Texture_Card" data-type="SS">
				700
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary eetc" data-price="1050" data-card="Exclusive_Texture_Card" data-type="FB">
				1050
			</span>
		</td>
		
		<td>
			<span class="price-ex btn btn-primary gsmVelvet" data-price="1400" data-card="Velvet_Touch_Card" data-type="SS">
				1400
			</span>
		</td>
		<td>
			<span class="price-ex btn btn-primary gsmVelvet" data-price="1400" data-card="Velvet_Touch_Card" data-type="FB">
				1400
			</span>
		</td>
	</tr>
	
	<tr  class="rowQty-ex" id="qty_288">
		<td> 
			<a href="javascript:void(0);" class="btn btn-primary setVQty-ex" onclick="setQtyEx(288);">
				288
			</a> 
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary etc" data-price="550" data-card="Economy_Texture_Card" data-type="SS">
				550
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary etc" data-price="750" data-card="Economy_Texture_Card" data-type="FB">
				750
			</span>
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary ptc" data-price="600" data-card="Premium_Texture_Card" data-type="SS">
				600
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary ptc" data-price="950" data-card="Premium_Texture_Card" data-type="FB">
				950
			</span>
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary eetc" data-price="1000" data-card="Exclusive_Texture_Card" data-type="SS">
				1000
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary eetc" data-price="1500" data-card="Exclusive_Texture_Card" data-type="FB">
				1500
			</span>
		</td>
		
		<td>
			<span class="price-ex btn btn-primary gsmVelvet" data-price="1900" data-card="Velvet_Touch_Card" data-type="SS">
				1900
			</span>
		</td>
		<td>
			<span class="price-ex btn btn-primary gsmVelvet" data-price="1900" data-card="Velvet_Touch_Card" data-type="FB">
				1900
			</span>
		</td>
	</tr>
	
	<tr  class="rowQty-ex" id="qty_500">
		<td> 
			<a href="javascript:void(0);" class="btn btn-primary setVQty-ex" onclick="setQtyEx(500);">
				500
			</a> 
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary etc" data-price="800" data-card="Economy_Texture_Card" data-type="SS">
				800
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary etc" data-price="1250" data-card="Economy_Texture_Card" data-type="FB">
				1250
			</span>
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary ptc" data-price="900" data-card="Premium_Texture_Card" data-type="SS">
				900
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary ptc" data-price="1400" data-card="Premium_Texture_Card" data-type="FB">
				1400
			</span>
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary eetc" data-price="1500" data-card="Exclusive_Texture_Card" data-type="SS">
				1500
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary eetc" data-price="2250" data-card="Exclusive_Texture_Card" data-type="FB">
				2250
			</span>
		</td>
		
		<td>
			<span class="price-ex btn btn-primary gsmVelvet" data-price="2800" data-card="Velvet_Touch_Card" data-type="SS">
				2800
			</span>
		</td>
		<td>
			<span class="price-ex btn btn-primary gsmVelvet" data-price="2800" data-card="Velvet_Touch_Card" data-type="FB">
				2800
			</span>
		</td>
	</tr>
	
	<tr  class="rowQty-ex"  id="qty_1000">
		<td> 
			<a href="javascript:void(0);" class="btn btn-primary setVQty-ex" onclick="setQtyEx(1000);">
				1000
			</a> 
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary etc" data-price="1500" data-card="Economy_Texture_Card" data-type="SS">
				1500
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary etc" data-price="2250" data-card="Economy_Texture_Card" data-type="FB">
				2250
			</span>
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary ptc" data-price="1700" data-card="Premium_Texture_Card" data-type="SS">
				1700
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary ptc" data-price="2700" data-card="Premium_Texture_Card" data-type="FB">
				2700
			</span>
		</td>
		
		<td> 
			<span class="price-ex btn btn-primary eetc" data-price="2500" data-card="Exclusive_Texture_Card" data-type="SS">
				2500
			</span>
		</td>
		<td> 
			<span class="price-ex btn btn-primary eetc" data-price="3700" data-card="Exclusive_Texture_Card" data-type="FB">
				3700
			</span>
		</td>
		
		<td>
			<span class="price-ex btn btn-primary gsmVelvet" data-price="5400" data-card="Velvet_Touch_Card" data-type="SS">
				5400
			</span>
		</td>
		<td>
			<span class="price-ex btn btn-primary gsmVelvet" data-price="5400" data-card="Velvet_Touch_Card" data-type="FB">
				5400
			</span>
		</td>
	</tr>
</table>

<table class="table" border="2">
	<tr>
		<td> Qty : <span id="show_v_card_qty-ex"></span>
			<input type="hidden" id="v_card_qty-ex" name="v_card_qty-ex">
			<input type="hidden" id="original_v_card_qty-ex" name="original_v_card_qty-ex">
			</td>
			
		<td> Paper Type : <span id="show_v_card_type-ex"></span>
			<input type="hidden" id="v_card_type-ex" name="v_card_type-ex">
		</td>
		<td> Estimate : <span id="show_v_card_price-ex"></span>
			<input type="hidden" name="v_card_price-ex" id="v_card_price-ex">
			<input type="hidden" id="original_v_card_price-ex" name="original_v_card_price-ex">
		</td>
		<td> 
			Total Names : 
			<br>
			<input type="text" id="v_card_names-ex" name="v_card_names-ex" class="form-control" value="1" onBlur="updateQtyEx()"> 
		</td>
		<td> 
			Paper Code : 
			<br>
			<input type="text" id="paper_code-ex" name="paper_code-ex" class="form-control" onblur="setPaperCodeValueEx();"> 
		</td>
		<td align="center">
			<input type="hidden" name="paper_side-ex" id="paper_side-ex">
			<input type="hidden" name="original_title-ex" id="original_title-ex">
			<button class="btn btn-primary" onclick="saveVCardEx();">
				Confirm
			</button>
		</td>
	</tr>
</table>
</form>

<script>
jQuery(document).ready(function()
{
	jQuery(".price-ex").css('opacity','0.10');
});

jQuery(".gsmExclusive-ex").on('click', function()
{
		jQuery("#paper_code-ex").focus();
});

jQuery(".gsmEconomy-ex").on('click', function()
{
		jQuery("#paper_code-ex").focus();
});

jQuery(".gsmPremium-ex").on('click', function()
{
		jQuery("#paper_code-ex").focus();
});


jQuery(".price-ex").on('click', function()
{
	jQuery(".price-ex.Vcard_active-ex").removeClass('Vcard_active-ex');
	
	setCardPriceEx(jQuery(this).attr('data-price'));
	jQuery("#original_v_card_price-ex").val(jQuery(this).attr('data-price'));
	
	
	setCardTypeEx(jQuery(this).attr('data-card')+"_"+jQuery(this).attr('data-type'));
	
	jQuery("#original_title-ex").val(jQuery(this).attr('data-card')+"_"+jQuery(this).attr('data-type'));
	
	jQuery("#paper_side-ex").val(jQuery(this).attr('data-type'));
	jQuery(this).addClass("Vcard_active-ex");
	
	resetInputBoxEx();
});


function resetInputBoxEx()
{
	jQuery("#v_card_names-ex").val("1");
	jQuery("#paper_code-ex").val("");
}

function setCardPriceEx(value)
{
	jQuery("#v_card_price-ex").val(value);
	jQuery("#show_v_card_price-ex").html("<h2>"+value+"</h2>");
}

function setCardTypeEx(value)
{
	jQuery("#v_card_type-ex").val("V_Card_"+value);
	jQuery("#show_v_card_type-ex").html("<h2>"+value+"</h2>");
}

function setQtyEx(value)
{
	jQuery(".rowQty-ex").css('opacity', "1");
	
	
	jQuery("#qty_"+value+" .price-ex").css('opacity', "1");
	jQuery("#qty_"+value+" .price-ex").css('opacity', "1");
	
	console.log("Element", jQuery("#qty_"+value+" .price"));
	jQuery("#qty_"+value).css('opacity', "1");
	jQuery("#v_card_qty-ex").val(value);
	jQuery("#original_v_card_qty-ex").val(value);
	
	jQuery("#show_v_card_qty-ex").html("<h2>"+value+"</h2>");
}

function getPaperPrintSideEx()
{
	return jQuery("#paper_side-ex").val();
}
function setFinalQtyEx(value)
{
	jQuery("#v_card_qty-ex").val(value);
	jQuery("#show_v_card_qty-ex").html("<h2>"+value+"</h2>");
}

function getCardQtyEx()
{
	return jQuery("#v_card_qty-ex").val();
}

function getCardTypeEx()
{
	var cardType 	= jQuery("#v_card_type-ex").val();
	var paperCode 	= getPaperCodeEx();
	
	
	if(cardType == "V_Card_Code" )
	{
		return "V_Card_Code_"+paperCode;
	}
	
	if(cardType == "V_Card_Code" )
	{
		return "V_Card_Code_"+paperCode;
	}
	
	if(cardType == "V_Card_Code" )
	{
		return "V_Card_Code_"+paperCode;
	}
	
	return jQuery("#v_card_type-ex").val();
}

function getCardPriceEx()
{
	return jQuery("#v_card_price-ex").val();
}

function getCardRateEx()
{
	var cardRate = getCardPriceEx() /getCardQtyEx();
	
	return cardRate;
}

function getPaperCodeEx()
{
	return jQuery("#paper_code-ex").val();
}

function saveVCardEx()
{
	var multiple = 1;
	updateQtyEx();	
	if(jQuery("#v_card_names-ex").val().length > 0 )
	{
		multiple = jQuery("#v_card_names-ex").val();
	}
	
	var id = jQuery("#fancybox_id").val();
	jQuery("#category_" +id).val('Visiting Card');
	
	if(getPaperCodeEx().length > 0 )
	{
		jQuery("#details_" +id).val(getCardTypeEx());
	}
	else
	{
		jQuery("#details_" +id).val(getCardTypeEx());
	}
	
	jQuery("#qty_" +id).val(getCardQtyEx());
	jQuery("#rate_" +id).val(getCardRateEx());
	jQuery("#sub_" +id).val(getCardPriceEx());
		
	jQuery.fancybox.close();
	
	return false;
}

function setPaperCodeValueEx()
{
	if(jQuery(".Vcard_active-ex").attr("data-card") == "300_GSM_Matt_Card" )
	{
		jQuery("#paper_code-ex").val("");
		return true;
	}
	
	if(jQuery(".Vcard_active-ex").attr("data-card") == "350_GSM_Matt_Card" )
	{
		jQuery("#paper_code-ex").val("");
		return true;
	}
	
	var paperCode = jQuery("#paper_code-ex").val();
	var printSide = getPaperPrintSideEx();
	
	if(jQuery("#v_card_names-ex").length > 0 )
	{
		var originalQty = jQuery("#original_v_card_qty-ex").val();
		var multiple 	= jQuery("#v_card_names-ex").val();
		var finalTitle = "V_Card_Code_"+paperCode+"_"+printSide;
		
		jQuery("#v_card_type-ex").val(finalTitle);
		jQuery("#show_v_card_type-ex").html("<h2>"+finalTitle+"</h2>");
		
		return true;
	}
	
	jQuery("#v_card_type-ex").val("V_Card_Code_"+paperCode+"_"+printSide);
	jQuery("#show_v_card_type-ex").html("<h2>"+"V_Card_Code_"+paperCode+"_"+printSide+"</h2>");
}

function updateQtyEx()
{
	var multiple = 1;
	
	if(jQuery("#v_card_names-ex").val().length > 0 )
	{
		multiple = jQuery("#v_card_names-ex").val();
	}
	
	setFinalQtyEx(jQuery("#original_v_card_qty-ex").val() * multiple)
	setCardPriceEx(jQuery("#original_v_card_price-ex").val() * multiple);
	
	var cardTitle = jQuery("#original_title-ex").val();
	
	var paperCode = jQuery("#paper_code-ex").val();
	var printSide = getPaperPrintSideEx();
	
	if(jQuery("#paper_code-ex").val().length > 0) 
	{
		console.log("OrignalTilte", cardTitle);
		
		var finalTitle = "V_Card_Code_"+paperCode+"_"+printSide+"_"+jQuery("#original_v_card_qty-ex").val()+"*"+multiple;
		
		setCardTypeEx(finalTitle);
		
		return true;
	}
	
	var finalTitle = "V_Card_Code_"+printSide+"_"+jQuery("#original_v_card_qty-ex").val()+"*"+multiple;
	
	
	setCardTypeEx(cardTitle);
		
	return true;
}
</script>
